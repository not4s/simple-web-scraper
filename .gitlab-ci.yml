maven-compile:
  stage: build
  script:
    - mvn compile

maven-test:
  stage: test
  needs: 
    - maven-compile
  script:
    - mvn test

maven-package:
  stage: deploy
  needs: 
    - maven-compile
    - job: maven-test
      artifacts: false
  script:
    - mvn package

host-website:
  stage: deploy
  needs: 
    - maven-compile
    - maven-package
  interruptible: true
  script:
    - export PORT=5000
    - sh target/bin/simplewebapp
  
